<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : 集計区分アイテム系SQLステートメントXML(CsSummarySettingItem.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2013 All Rights Reserved.
=========================================================================================================
-->
<CsSummarySettingItem>

  <!-- 集計区分内アイテム全て取得 -->
  <GetAllBySummarySettingNo>
    <Statement>
      <![CDATA[
        SELECT	* 
          FROM	w2_CsSummarySettingItem 
         WHERE	w2_CsSummarySettingItem.dept_id = @dept_id 
           AND	w2_CsSummarySettingItem.summary_setting_no = @summary_setting_no 
      ORDER BY  w2_CsSummarySettingItem.display_order ASC 
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
      <Input Name="summary_setting_no" Type="int" />
    </Parameter>
  </GetAllBySummarySettingNo>

  <!-- 全て取得 -->
  <GetAll>
    <Statement>
      <![CDATA[
        SELECT	*
          FROM	w2_CsSummarySettingItem
         WHERE	w2_CsSummarySettingItem.dept_id = @dept_id
      ORDER BY  w2_CsSummarySettingItem.display_order
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
    </Parameter>
  </GetAll>

  <!-- 登録 -->
  <Register>
    <Statement>
      <![CDATA[			
        INSERT 
          w2_CsSummarySettingItem
          (
            w2_CsSummarySettingItem.dept_id, 
            w2_CsSummarySettingItem.summary_setting_no, 
            w2_CsSummarySettingItem.summary_setting_item_id, 
            w2_CsSummarySettingItem.summary_setting_item_text, 
            w2_CsSummarySettingItem.display_order, 
            w2_CsSummarySettingItem.valid_flg, 
            w2_CsSummarySettingItem.date_created, 
            w2_CsSummarySettingItem.date_changed, 
            w2_CsSummarySettingItem.last_changed  
          ) 
          VALUES
          (
            @dept_id, 
            @summary_setting_no, 
            @summary_setting_item_id, 
            @summary_setting_item_text, 
            @display_order, 
            @valid_flg, 
            getdate(),
            getdate(), 
            @last_changed
          )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
      <Input Name="summary_setting_no" Type="int" />
      <Input Name="summary_setting_item_id" Type="nvarchar" Size="30" />
      <Input Name="summary_setting_item_text" Type="nvarchar" Size="50" />
      <Input Name="display_order" Type="int" />
      <Input Name="valid_flg" Type="nvarchar" Size="10" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
    </Parameter>
  </Register>

  <!-- 削除 -->
  <DeleteAll>
    <Statement>
      <![CDATA[
        DELETE  w2_CsSummarySettingItem
         WHERE  w2_CsSummarySettingItem.dept_id = @dept_id 
           AND  w2_CsSummarySettingItem.summary_setting_no = @summary_setting_no			
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
      <Input Name="summary_setting_no" Type="int" />
    </Parameter>
  </DeleteAll>

</CsSummarySettingItem>
