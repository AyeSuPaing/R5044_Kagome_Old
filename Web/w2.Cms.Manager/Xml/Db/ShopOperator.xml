<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : オペレータ系SQLステートメントXML(ShopOperator.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2019 All Rights Reserved.
=========================================================================================================
-->
<ShopOperator>

  <!-- 登録用ログインID重複チェック -->
  <CheckDuplicationRegistLoginId>
    <Statement>
      <![CDATA[
      SELECT  count(operator_id) AS count
        FROM  w2_ShopOperator
       WHERE  w2_ShopOperator.shop_id = @shop_id
         AND  w2_ShopOperator.login_id = @login_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="login_id" Type="nvarchar" Size="20" />
    </Parameter>
  </CheckDuplicationRegistLoginId>

  <!-- 更新用ログインID重複チェック -->
  <CheckDuplicationModifyLoginId>
    <Statement>
      <![CDATA[
      SELECT  count(operator_id) AS count
        FROM  w2_ShopOperator
       WHERE  w2_ShopOperator.shop_id = @shop_id
         AND  w2_ShopOperator.operator_id <> @operator_id
         AND  w2_ShopOperator.login_id = @login_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="operator_id" Type="nvarchar" Size="20" />
      <Input Name="login_id" Type="nvarchar" Size="20" />
    </Parameter>
  </CheckDuplicationModifyLoginId>

</ShopOperator>
