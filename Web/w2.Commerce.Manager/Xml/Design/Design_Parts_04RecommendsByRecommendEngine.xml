<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : デザイン定義・おすすめ商品(外部レコメンド連携)パーツXML(Design_Parts_04RecommendsByRecommendEngine.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2010 All Rights Reserved.
=========================================================================================================
-->
<Design_Parts>

  <!--－－－－－－－－－－－－－－－－－－－－－－－－－-->
  <!-- おすすめ商品 -->
  <!--－－－－－－－－－－－－－－－－－－－－－－－－－-->
  <PartsSetting name="おすすめ商品(レコメンドエンジン)" path="Form\Common\Product\BodyProductRecommendByRecommendEngine.ascx">
    <Declaration><![CDATA[<%@ Register TagPrefix="uc" TagName="BodyProductRecommendByRecommendEngine" Src="~/Form/Common/Product/BodyProductRecommendByRecommendEngine.ascx" %>]]></Declaration>
    <LayoutParts>
      <Name><![CDATA[おすすめ商品(レコメンドエンジン)]]></Name>
      <Value><![CDATA[<uc:BodyProductRecommendByRecommendEngine runat="server" />]]></Value>
    </LayoutParts>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽おすすめ商品一覧ループ▽ --%>
<asp:Repeater id="rRecommendProducts" runat="server">
<HeaderTemplate>]]>
      </RawBgn>
      <RawItemBgn>
        <![CDATA[</HeaderTemplate>
<ItemTemplate>]]>
      </RawItemBgn>
      <RawItemEnd>
        <![CDATA[</ItemTemplate>
<FooterTemplate>]]>
      </RawItemEnd>
      <RawEnd>
        <![CDATA[</FooterTemplate>
</asp:Repeater>
<%-- △おすすめ商品一覧ループ△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループを指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw>
        <![CDATA[<%# WebSanitizer.UrlAttrHtmlEncode(CreateSendTrackingLogUrl(Container.DataItem)) %>]]>
      </Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内でトラッキングログ送信URLを出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCT_NAME)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品名を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCT_COOPERATION_ID1)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品連携ID1を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCT_COOPERATION_ID2)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品連携ID2を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCT_COOPERATION_ID3)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品連携ID3を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCT_COOPERATION_ID4)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品連携ID4を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCT_COOPERATION_ID5)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品連携ID5を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<w2c:ProductImage ImageTagId="picture" ImageSize="<%# this.ImageSize %>" ProductMaster="<%# Container.DataItem %>" IsVariation="false" runat="server" />]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品画像を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽商品通常価格有効▽ --%>
<span visible='<%# ProductPage.GetProductNormalPriceValid(Container.DataItem) %>' runat="server">]]>
      </RawBgn>
      <RawEnd>
        <![CDATA[</span>
<%-- △商品通常価格有効△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品表示価格が有効なときに表示する領域を指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽商品特別価格有効▽ --%>
<span visible='<%# ProductPage.GetProductSpecialPriceValid(Container.DataItem) %>' runat="server">]]>
      </RawBgn>
      <RawEnd>
        <![CDATA[</span>
<%-- △商品特別価格有効△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品表示特別価格が有効なときに表示する領域を指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽商品セール価格有効▽ --%>
<span visible='<%# ProductPage.GetProductTimeSalesValid(Container.DataItem) %>' runat="server">]]>
      </RawBgn>
      <RawEnd>
        <![CDATA[</span>
<%-- △商品セール価格有効△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品セール価格が有効なときに表示する領域を指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(CurrencyManager.ToPrice(ProductPage.GetProductPriceNumeric(Container.DataItem))) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品表示価格を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(CurrencyManager.ToPrice(ProductPage.GetProductSpecialPriceNumeric(Container.DataItem))) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品表示特別価格を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(CurrencyManager.ToPrice(ProductPage.GetProductTimeSalePriceNumeric(Container.DataItem))) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内で商品セール価格を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<div id="divAlternativeRecommend" visible="false" runat="server">]]>
      </RawBgn>
      <RawEnd>
        <![CDATA[</div>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        レコメンドエンジンから取得したおすすめ商品のうち表示可能な商品がなかったときに表示する領域を指定します。
        ]]>
      </Description>
    </TagSetting>
  </PartsSetting>

  <!--－－－－－－－－－－－－－－－－－－－－－－－－－-->
  <!-- おすすめカテゴリ -->
  <!--－－－－－－－－－－－－－－－－－－－－－－－－－-->
  <PartsSetting name="おすすめカテゴリ(レコメンドエンジン)" path="Form\Common\Product\BodyCategoryRecommendByRecommendEngine.ascx">
    <Declaration><![CDATA[<%@ Register TagPrefix="uc" TagName="BodyCategoryRecommendByRecommendEngine" Src="~/Form/Common/Product/BodyCategoryRecommendByRecommendEngine.ascx" %>]]></Declaration>
    <LayoutParts>
      <Name><![CDATA[おすすめカテゴリ(レコメンドエンジン)]]></Name>
      <Value><![CDATA[<uc:BodyCategoryRecommendByRecommendEngine runat="server" />]]></Value>
    </LayoutParts>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽おすすめカテゴリ一覧ループ▽ --%>
<asp:Repeater id="rRecommendCategories" runat="server">
<HeaderTemplate>]]>
      </RawBgn>
      <RawItemBgn>
        <![CDATA[</HeaderTemplate>
<ItemTemplate>]]>
      </RawItemBgn>
      <RawItemEnd>
        <![CDATA[</ItemTemplate>
<FooterTemplate>]]>
      </RawItemEnd>
      <RawEnd>
        <![CDATA[</FooterTemplate>
</asp:Repeater>
<%-- △おすすめカテゴリ一覧ループ△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        おすすめカテゴリ一覧ループを指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽おすすめカテゴリ一覧ループ（パンくずリスト表示）▽ --%>
<asp:Repeater id="rRecommendCategoryBreadcrumbs" runat="server">
<HeaderTemplate>]]>
      </RawBgn>
      <RawItemBgn>
        <![CDATA[</HeaderTemplate>
<ItemTemplate>]]>
      </RawItemBgn>
      <RawItemEnd>
        <![CDATA[</ItemTemplate>
<FooterTemplate>]]>
      </RawItemEnd>
      <RawEnd>
        <![CDATA[</FooterTemplate>
</asp:Repeater>
<%-- △おすすめカテゴリ一覧ループ（パンくずリスト表示）△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        おすすめカテゴリ一覧ループを指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<%-- ▽TOPから該当カテゴリまで階層ループ▽ --%>
<asp:Repeater DataSource="<%# (List<DataRowView>)Container.DataItem %>" runat="server">
<HeaderTemplate>]]>
      </RawBgn>
      <RawItemBgn>
        <![CDATA[</HeaderTemplate>
<ItemTemplate>]]>
      </RawItemBgn>
      <RawItemEnd>
        <![CDATA[</ItemTemplate>
<FooterTemplate>]]>
      </RawItemEnd>
      <RawEnd>
        <![CDATA[</FooterTemplate>
</asp:Repeater>
<%-- △TOPから該当カテゴリまで階層ループ△ --%>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        TOPから該当カテゴリまでの階層を表示するためのループを指定します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw>
        <![CDATA[<%# Constants.PATH_ROOT %>]]>
      </Raw>
      <Description>
        <![CDATA[
        TOPページのURLを出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw>
        <![CDATA[<%# WebSanitizer.UrlAttrHtmlEncode(CreateSendTrackingLogUrl(Container.DataItem)) %>]]>
      </Raw>
      <Description>
        <![CDATA[
        おすすめ商品一覧ループ内でトラッキングログ送信URLを出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <Raw><![CDATA[<%# WebSanitizer.HtmlEncode(GetKeyValue(Container.DataItem, Constants.FIELD_PRODUCTCATEGORY_NAME)) %>]]></Raw>
      <Description>
        <![CDATA[
        おすすめカテゴリ一覧ループ内でカテゴリ名を出力します。
        ]]>
      </Description>
    </TagSetting>

    <TagSetting>
      <RawBgn>
        <![CDATA[<div id="divAlternativeRecommend" visible="false" runat="server">]]>
      </RawBgn>
      <RawEnd>
        <![CDATA[</div>]]>
      </RawEnd>
      <Description>
        <![CDATA[
        レコメンドエンジンから取得したおすすめ商品のうち表示可能な商品がなかったときに表示する領域を指定します。
        ]]>
      </Description>
    </TagSetting>
  </PartsSetting>
</Design_Parts>