<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : 定期ワークフロー設定系SQLサブステートメントXML(FixedPurchaseWorkflowSetting_Sub.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2018 All Rights Reserved.
=========================================================================================================
-->
<FixedPurchaseWorkflow_Sub>
  <!-- 定期ワークフロー設定情報一覧取得用ORDER_BY -->
  <FIXEDPURCHASEWORKFLOWSETTING_SEARCH_ORDER_BY>
    <Statement>
      <![CDATA[
         ORDER BY
          CASE @sort_kbn
            WHEN  1 THEN w2_FixedPurchaseWorkflow.display_order
            ELSE '1'
          END 
          ASC,
          CASE @sort_kbn
            WHEN  3 THEN w2_FixedPurchaseWorkflow.date_created
            WHEN  5 THEN w2_FixedPurchaseWorkflow.date_changed
            ELSE NULL
          END 
          ASC,
          CASE @sort_kbn
            WHEN  2 THEN w2_FixedPurchaseWorkflow.display_order
            ELSE '1'
          END 
          DESC,
          CASE @sort_kbn
            WHEN  4 THEN w2_FixedPurchaseWorkflow.date_created
            WHEN  6 THEN w2_FixedPurchaseWorkflow.date_changed
            ELSE NULL
          END 
          DESC,
          -- 常に一定の結果セットを得るため、主キー（昇順）ソート
          w2_FixedPurchaseWorkflow.shop_id ASC, w2_FixedPurchaseWorkflow.workflow_kbn ASC, w2_FixedPurchaseWorkflow.display_order ASC,w2_FixedPurchaseWorkflow.workflow_no ASC
      ]]>
    </Statement>
  </FIXEDPURCHASEWORKFLOWSETTING_SEARCH_ORDER_BY>

</FixedPurchaseWorkflow_Sub>
