<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : 注文処理SQLステートメントXML(ExtraOrderData.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2012 All Rights Reserved.
=========================================================================================================
-->
<EntireOrder>
  <!-- 注文情報取得 -->
  <GetOrder>
    <Statement>
      <![CDATA[
        SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
        SELECT  w2_Order.*
          FROM  w2_Order
         WHERE  w2_Order.order_id = @order_id
           AND  w2_Order.shop_id = @shop_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </GetOrder>
  
  <!-- 注文者情報取得 -->
  <GetOrderOwner>
    <Statement>
      <![CDATA[
        SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
        SELECT  w2_OrderOwner.*
          FROM  w2_OrderOwner
         WHERE  w2_OrderOwner.order_id = @order_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </GetOrderOwner>
  
  <!-- 配送先情報取得 -->
  <GetOrderShipping>
    <Statement>
      <![CDATA[
        SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
        SELECT  w2_OrderShipping.*
          FROM  w2_OrderShipping
         WHERE  w2_OrderShipping.order_id = @order_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </GetOrderShipping>
  
  <!-- 注文商品情報取得 -->
  <GetOrderItem>
    <Statement>
      <![CDATA[
        SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
        SELECT  w2_OrderItem.*
          FROM  w2_OrderItem
         WHERE  w2_OrderItem.order_id = @order_id
           AND  w2_OrderItem.shop_id = @shop_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </GetOrderItem>
</EntireOrder>
