<?xml version="1.0" encoding="utf-8" ?>
<Migration>
  <Up>
    <Statement>
      <![CDATA[
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_FixedPurchaseShipping' AND COLUMN_NAME = 'shipping_receiving_store_flg')
			ALTER TABLE [w2_FixedPurchaseShipping] ADD [shipping_receiving_store_flg] [nvarchar] (1) NOT NULL DEFAULT (N'0');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_FixedPurchaseShipping' AND COLUMN_NAME = 'shipping_receiving_store_id')
			ALTER TABLE [w2_FixedPurchaseShipping] ADD [shipping_receiving_store_id] [nvarchar] (20) NOT NULL DEFAULT (N'');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_OrderShipping' AND COLUMN_NAME = 'shipping_receiving_store_flg')
			ALTER TABLE [w2_OrderShipping] ADD [shipping_receiving_store_flg] [nvarchar] (1) NOT NULL DEFAULT (N'0');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_OrderShipping' AND COLUMN_NAME = 'shipping_receiving_store_id')
			ALTER TABLE [w2_OrderShipping] ADD [shipping_receiving_store_id] [nvarchar] (20) NOT NULL DEFAULT (N'');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_UserShipping' AND COLUMN_NAME = 'shipping_receiving_store_flg')
			ALTER TABLE [w2_UserShipping] ADD [shipping_receiving_store_flg] [nvarchar] (1) NOT NULL DEFAULT (N'0');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_UserShipping' AND COLUMN_NAME = 'shipping_receiving_store_id')
			ALTER TABLE [w2_UserShipping] ADD [shipping_receiving_store_id] [nvarchar] (20) NOT NULL DEFAULT (N'');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_WorkUserShipping' AND COLUMN_NAME = 'shipping_receiving_store_flg')
			ALTER TABLE [w2_WorkUserShipping] ADD [shipping_receiving_store_flg] [nvarchar] (1) NOT NULL DEFAULT (N'0');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_WorkUserShipping' AND COLUMN_NAME = 'shipping_receiving_store_id')
			ALTER TABLE [w2_WorkUserShipping] ADD [shipping_receiving_store_id] [nvarchar] (20) NOT NULL DEFAULT (N'');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_OrderShipping' AND COLUMN_NAME = 'shipping_external_deliverty_status')
			ALTER TABLE [w2_OrderShipping] ADD [shipping_external_deliverty_status] [nvarchar] (5) NOT NULL DEFAULT (N'');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_OrderShipping' AND COLUMN_NAME = 'shipping_status')
			ALTER TABLE [w2_OrderShipping] ADD [shipping_status] [nvarchar] (5) NOT NULL DEFAULT (N'');
		GO
		
		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_OrderShipping' AND COLUMN_NAME = 'shipping_status_update_date')
			ALTER TABLE [w2_OrderShipping] ADD [shipping_status_update_date] [datetime];
		GO

		IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_OrderShipping' AND COLUMN_NAME = 'shipping_receiving_mail_date')
			ALTER TABLE [w2_OrderShipping] ADD [shipping_receiving_mail_date] [datetime];
		GO

		IF NOT EXISTS (SELECT * FROM [w2_Payment] WHERE [shop_id] = '0' AND [payment_id] = 'G33')
			BEGIN
				INSERT [dbo].[w2_Payment]
				 (
				 [shop_id]
				 , [payment_group_id]
				 , [payment_id]
				 , [payment_alt_id]
				 , [payment_name]
				 , [payment_name_mobile]
				 , [payment_price_kbn]
				 , [payment_price]
				 , [usable_price_min]
				 , [usable_price_max]
				 , [mobile_disp_flg]
				 , [display_order]
				 , [valid_flg]
				 , [del_flg]
				 , [date_created]
				 , [date_changed]
				 , [last_changed]
				 , [user_management_level_not_use]
				 ) 
				 VALUES
				 (
				 N'0'
				 , N''
				 , N'G33'
				 , N''
				 , N'コンビニ(受取払い)'
				 , N''
				 , N'1'
				 , CAST(0 AS Decimal(18, 0))
				 , CAST(1.000 AS Decimal(18, 3))
				 , NULL
				 , N'0'
				 , 3
				 , N'0'
				 , N'0'
				 , CAST(N'2006-08-08 13:54:01.630' AS DateTime)
				 , CAST(N'2019-10-16 11:40:30.420' AS DateTime)
				 , N'ｗ２ユーザー'
				 , N'hogege'
				)
			END
		GO

		IF NOT EXISTS (SELECT * FROM [w2_PaymentPrice] WHERE [shop_id] = '0' AND [payment_id] = 'G33')
			BEGIN
				INSERT [dbo].[w2_PaymentPrice]
				 (
				 [shop_id]
				 , [payment_group_id]
				 , [payment_id]
				 , [payment_price_no]
				 , [tgt_price_bgn]
				 , [tgt_price_end]
				 , [payment_price]
				 , [del_flg]
				 , [date_created]
				 , [date_changed]
				 , [last_changed]
				 ) 
				 VALUES 
				 (
				 N'0'
				 , N''
				 , N'G33'
				 , 1
				 , CAST(0 AS Decimal(18, 0))
				 , CAST(99999 AS Decimal(18, 0))
				 , CAST(0 AS Decimal(18, 0))
				 , N'0'
				 , CAST(N'2019-10-16 11:40:30.423' AS DateTime)
				 , CAST(N'2019-10-16 11:40:30.423' AS DateTime)
				 , N'ｗ２ユーザー'
				 )
			END
		GO
		
		IF NOT EXISTS (SELECT * FROM [w2_MailTemplate] WHERE [shop_id] = '0' AND [mail_id] = '00000502')
			BEGIN
				INSERT INTO [dbo].[w2_MailTemplate]
			           ([shop_id]
			           ,[mail_id]
			           ,[mail_name]
			           ,[mail_from]
			           ,[mail_to]
			           ,[mail_cc]
			           ,[mail_bcc]
			           ,[mail_subject]
			           ,[mail_body]
			           ,[mail_subject_mobile]
			           ,[mail_body_mobile]
			           ,[del_flg]
			           ,[date_created]
			           ,[date_changed]
			           ,[last_changed]
			           ,[mail_from_name]
			           ,[mail_category]
			           ,[auto_send_flg]
			           ,[language_code]
			           ,[language_locale_id]
			           ,[sms_use_flg])
			     VALUES(
			            '0'
			           ,'00000502'
			           ,'コンビニ配送商品到着メール'
			           ,'pkg_mail@w2solution.co.jp'
			           ,'pkg_mail@w2solution.co.jp'
			           ,''
			           ,''
			           ,'コンビニ配送商品到着メール'
			           ,'ご注文の商品はコンビニに到着しました。商品を@@ days @@日以内に受け取ってください。
			■配送先
			  @@ shipping_addr4 @@
			  @@ shipping_name @@
			  @@ shipping_tel1 @@'
			           ,''
			           ,''
			           ,'0'
			           ,GETDATE()
			           ,GETDATE()
			           ,'ｗ２ユーザー'
			           ,''
			           ,''
			           ,'0'
			           ,''
			           ,''
			           ,'0')
			END
		GO
		
		IF NOT EXISTS (SELECT * FROM [w2_MailTemplate] WHERE [shop_id] = '0' AND [mail_id] = '90000058')
			BEGIN
				INSERT INTO [dbo].[w2_MailTemplate]
			           ([shop_id]
			           ,[mail_id]
			           ,[mail_name]
			           ,[mail_from]
			           ,[mail_to]
			           ,[mail_cc]
			           ,[mail_bcc]
			           ,[mail_subject]
			           ,[mail_body]
			           ,[mail_subject_mobile]
			           ,[mail_body_mobile]
			           ,[del_flg]
			           ,[date_created]
			           ,[date_changed]
			           ,[last_changed]
			           ,[mail_from_name]
			           ,[mail_category]
			           ,[auto_send_flg]
			           ,[language_code]
			           ,[language_locale_id]
			           ,[sms_use_flg])
			     VALUES(
			            '0'
			           ,'90000058'
			           ,'コンビニ店舗情報取込'
			           ,'pkg_mail@w2solution.co.jp'
			           ,'pkg_mail@w2solution.co.jp'
			           ,''
			           ,''
			           ,'コンビニ店舗情報取込'
			           ,'処理結果： @@ message @@
					   
			取込開始時間：@@ startDateTime @@
			取込終了時間：@@ endDateTime @@'
			           ,''
			           ,''
			           ,'0'
			           ,GETDATE()
			           ,GETDATE()
			           ,'ｗ２ユーザー'
			           ,''
			           ,''
			           ,'1'
			           ,''
			           ,''
			           ,'0')
			END
		GO
       ]]>
    </Statement>
  </Up>
</Migration>
