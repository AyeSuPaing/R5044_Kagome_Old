<?xml version="1.0" encoding="utf-8" ?>
<Migration>
  <Up>
    <Statement>
      <![CDATA[
            IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[w2_WorkFixedPurchase]') AND OBJECTPROPERTY(id, N'IsUserTable') = 1)
                DROP TABLE [dbo].[w2_WorkFixedPurchase]
            GO

            CREATE TABLE [dbo].[w2_WorkFixedPurchase] (
                [fixed_purchase_id] [nvarchar] (30) NOT NULL,
                [fixed_purchase_kbn] [nvarchar] (10) NOT NULL DEFAULT (N'01'),
                [fixed_purchase_setting1] [nvarchar] (10) NOT NULL DEFAULT (N''),
                [base_tel_no] [nvarchar] (30) NOT NULL DEFAULT (N''),
                [fixed_purchase_status] [nvarchar] (10) NOT NULL DEFAULT (N'10'),
                [payment_status] [nvarchar] (10) NOT NULL DEFAULT (N'10'),
                [last_order_date] [datetime],
                [order_count] [int] NOT NULL DEFAULT (0),
                [user_id] [nvarchar] (30) NOT NULL DEFAULT (N''),
                [shop_id] [nvarchar] (10) NOT NULL DEFAULT (N''),
                [supplier_id] [nvarchar] (20) NOT NULL DEFAULT (N''),
                [order_kbn] [nvarchar] (10) NOT NULL DEFAULT (N'PC'),
                [order_payment_kbn] [nvarchar] (10) DEFAULT (N'00'),
                [fixed_purchase_date_bgn] [datetime] NOT NULL DEFAULT (GETDATE()),
                [card_kbn] [nvarchar] (30) NOT NULL DEFAULT (N''),
                [valid_flg] [nvarchar] (1) NOT NULL DEFAULT (N'1'),
                [del_flg] [nvarchar] (1) NOT NULL DEFAULT (N'0'),
                [date_created] [datetime] NOT NULL DEFAULT (GETDATE()),
                [date_changed] [datetime] NOT NULL DEFAULT (GETDATE()),
                [last_changed] [nvarchar] (20) NOT NULL DEFAULT (N''),
                [credit_branch_no] [int],
                [next_shipping_date] [datetime],
                [next_next_shipping_date] [datetime],
                [fixed_purchase_management_memo] [nvarchar] (MAX) NOT NULL DEFAULT (N''),
                [card_installments_code] [nvarchar] (10) NOT NULL DEFAULT (N''),
                [extend_status1] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status2] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status3] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status4] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status5] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status6] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status7] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status8] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status9] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status10] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status11] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status12] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status13] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status14] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status15] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status16] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status17] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status18] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status19] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status20] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status21] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status22] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status23] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status24] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status25] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status26] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status27] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status28] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status29] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status30] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [shipped_count] [int] NOT NULL DEFAULT (0),
                [cancel_reason_id] [nvarchar] (30) NOT NULL DEFAULT (N''),
                [cancel_memo] [nvarchar] (MAX) NOT NULL DEFAULT (N''),
                [next_shipping_use_point] [decimal] NOT NULL DEFAULT (0),
                [extend_status31] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status32] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status33] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status34] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status35] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status36] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status37] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status38] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status39] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status40] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [combined_org_fixedpurchase_ids] [nvarchar] (MAX) DEFAULT (N''),
                [access_country_iso_code] [nvarchar] (3) NOT NULL DEFAULT (N''),
                [disp_language_code] [nvarchar] (4) NOT NULL DEFAULT (N''),
                [disp_language_locale_id] [nvarchar] (7) NOT NULL DEFAULT (N''),
                [disp_currency_code] [nvarchar] (4) NOT NULL DEFAULT (N''),
                [disp_currency_locale_id] [nvarchar] (7) NOT NULL DEFAULT (N''),
                [external_payment_agreement_id] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [cancel_date] [datetime],
                [restart_date] [datetime],
                [memo] [nvarchar] (MAX) NOT NULL DEFAULT (N''),
                [resume_date] [datetime],
                [suspend_reason] [nvarchar] (MAX) NOT NULL DEFAULT (N''),
                [shipping_memo] [nvarchar] (MAX) DEFAULT (N''),
                [extend_status_date1] [datetime],
                [extend_status_date2] [datetime],
                [extend_status_date3] [datetime],
                [extend_status_date4] [datetime],
                [extend_status_date5] [datetime],
                [extend_status_date6] [datetime],
                [extend_status_date7] [datetime],
                [extend_status_date8] [datetime],
                [extend_status_date9] [datetime],
                [extend_status_date10] [datetime],
                [extend_status_date11] [datetime],
                [extend_status_date12] [datetime],
                [extend_status_date13] [datetime],
                [extend_status_date14] [datetime],
                [extend_status_date15] [datetime],
                [extend_status_date16] [datetime],
                [extend_status_date17] [datetime],
                [extend_status_date18] [datetime],
                [extend_status_date19] [datetime],
                [extend_status_date20] [datetime],
                [extend_status_date21] [datetime],
                [extend_status_date22] [datetime],
                [extend_status_date23] [datetime],
                [extend_status_date24] [datetime],
                [extend_status_date25] [datetime],
                [extend_status_date26] [datetime],
                [extend_status_date27] [datetime],
                [extend_status_date28] [datetime],
                [extend_status_date29] [datetime],
                [extend_status_date30] [datetime],
                [extend_status_date31] [datetime],
                [extend_status_date32] [datetime],
                [extend_status_date33] [datetime],
                [extend_status_date34] [datetime],
                [extend_status_date35] [datetime],
                [extend_status_date36] [datetime],
                [extend_status_date37] [datetime],
                [extend_status_date38] [datetime],
                [extend_status_date39] [datetime],
                [extend_status_date40] [datetime],
                [next_shipping_use_coupon_id] [nvarchar] (30) NOT NULL DEFAULT (N''),
                [next_shipping_use_coupon_no] [int] NOT NULL DEFAULT (0),
                [receipt_flg] [nvarchar] (1) NOT NULL DEFAULT (N'0'),
                [receipt_address] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [receipt_proviso] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [skipped_count] [int] NOT NULL DEFAULT (0),
                [extend_status41] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status42] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status43] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status44] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status45] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status46] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status47] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status48] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status49] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status50] [nvarchar] (10) NOT NULL DEFAULT (N'0'),
                [extend_status_date41] [datetime],
                [extend_status_date42] [datetime],
                [extend_status_date43] [datetime],
                [extend_status_date44] [datetime],
                [extend_status_date45] [datetime],
                [extend_status_date46] [datetime],
                [extend_status_date47] [datetime],
                [extend_status_date48] [datetime],
                [extend_status_date49] [datetime],
                [extend_status_date50] [datetime],
                [attribute1] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute2] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute3] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute4] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute5] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute6] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute7] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute8] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute9] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [attribute10] [nvarchar] (100) NOT NULL DEFAULT (N''),
                [subscription_box_course_id] [nvarchar] (30) NOT NULL DEFAULT (N''),
                [subscription_box_order_count] [int] NOT NULL DEFAULT (0),
                [subscription_box_fixed_amount] [decimal] (18,3) DEFAULT (0)
            ) ON [PRIMARY]
            GO

            ALTER TABLE [dbo].[w2_WorkFixedPurchase] WITH NOCHECK ADD
                CONSTRAINT [PK_w2_WorkFixedPurchase] PRIMARY KEY CLUSTERED
                (
                    [fixed_purchase_id]
                ) ON [PRIMARY]
            GO
        ]]>
    </Statement>
  </Up>
</Migration>