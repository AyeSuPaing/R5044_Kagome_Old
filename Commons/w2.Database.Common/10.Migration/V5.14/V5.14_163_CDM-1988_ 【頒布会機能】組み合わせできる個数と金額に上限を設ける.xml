<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : CDM-1988 【頒布会機能】組み合わせできる個数と金額に上限を設ける
  ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2022 All Rights Reserved.
=========================================================================================================
-->
<Migration>
  <Up>
    <Statement>
      <![CDATA[
      	IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_SubscriptionBox' AND COLUMN_NAME = 'maximum_amount')
		BEGIN
			ALTER TABLE [w2_SubscriptionBox] ADD [maximum_amount] [decimal](18, 3)
		END
	GO
	IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_SubscriptionBox' AND COLUMN_NAME = 'minimum_amount')
		BEGIN
			ALTER TABLE [w2_SubscriptionBox] ADD [minimum_amount] [decimal](18, 3)
		END
	GO

	IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_SubscriptionBoxItem' AND COLUMN_NAME = 'campaign_since')
		BEGIN
			ALTER TABLE [w2_SubscriptionBoxItem] ADD [campaign_since] [datetime]
		END
	GO
	IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_SubscriptionBoxItem' AND COLUMN_NAME = 'campaign_until')
		BEGIN
			ALTER TABLE [w2_SubscriptionBoxItem] ADD [campaign_until] [datetime]
		END
	GO
	IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'w2_SubscriptionBoxItem' AND COLUMN_NAME = 'campaign_price')
		BEGIN
			ALTER TABLE [w2_SubscriptionBoxItem] ADD [campaign_price] [decimal](18, 3)
		END
	GO
      ]]>
    </Statement>
  </Up>
</Migration>