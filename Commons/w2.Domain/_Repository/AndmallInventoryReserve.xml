<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : ＆mall在庫引当系SQLステートメントXML (AndmallInventoryReserve.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2018 All Rights Reserved.
=========================================================================================================
-->
<AndmallInventoryReserve>

  <!-- 取得 -->
  <Get>
    <Statement>
      <![CDATA[
        SELECT  *
          FROM  w2_AndmallInventoryReserve
         WHERE  identification_code = @identification_code
           AND  sku_id = @sku_id
           AND  andmall_base_store_code = @andmall_base_store_code
      ]]>
    </Statement>
    <Parameter>
      <Input Name="identification_code" Type="nvarchar" Size="32" />
      <Input Name="sku_id" Type="nvarchar" Size="30" />
      <Input Name="andmall_base_store_code" Type="nvarchar" Size="8" />
    </Parameter>
  </Get>

  <!-- 登録 -->
  <Insert>
    <Statement>
      <![CDATA[
        INSERT  w2_AndmallInventoryReserve
                (
                  identification_code
                  ,sku_id
                  ,andmall_base_store_code
                  ,product_id
                  ,variation_id
                  ,quantity
                  ,status
                  ,date_created
                  ,date_changed
                  ,cancel_date
                )
        VALUES  (
                  @identification_code
                  ,@sku_id
                  ,@andmall_base_store_code
                  ,@product_id
                  ,@variation_id
                  ,@quantity
                  ,@status
                  ,GETDATE()
                  ,GETDATE()
                  ,@cancel_date
                )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="identification_code" Type="nvarchar" Size="32" />
      <Input Name="sku_id" Type="nvarchar" Size="30" />
      <Input Name="andmall_base_store_code" Type="nvarchar" Size="8" />
      <Input Name="product_id" Type="nvarchar" Size="30" />
      <Input Name="variation_id" Type="nvarchar" Size="60" />
      <Input Name="quantity" Type="int" />
      <Input Name="status" Type="nvarchar" Size="20" />
      <Input Name="cancel_date" Type="datetime" />
    </Parameter>
  </Insert>

  <!-- 更新 -->
  <Update>
    <Statement>
      <![CDATA[
        UPDATE  w2_AndmallInventoryReserve
           SET  product_id = @product_id
                ,variation_id = @variation_id
                ,quantity = @quantity
                ,status = @status
                ,date_changed = GETDATE()
                ,cancel_date = @cancel_date
         WHERE  identification_code = @identification_code
           AND  sku_id = @sku_id
           AND  andmall_base_store_code = @andmall_base_store_code
      ]]>
    </Statement>
    <Parameter>
      <Input Name="identification_code" Type="nvarchar" Size="32" />
      <Input Name="sku_id" Type="nvarchar" Size="30" />
      <Input Name="andmall_base_store_code" Type="nvarchar" Size="8" />
      <Input Name="product_id" Type="nvarchar" Size="30" />
      <Input Name="variation_id" Type="nvarchar" Size="60" />
      <Input Name="quantity" Type="int" />
      <Input Name="status" Type="nvarchar" Size="20" />
      <Input Name="cancel_date" Type="datetime" />
    </Parameter>
  </Update>

</AndmallInventoryReserve>
