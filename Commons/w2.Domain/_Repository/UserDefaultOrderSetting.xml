<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : ユーザーデフォルト注文設定XML(UserDefaultOrderSetting.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2017 All Rights Reserved.
=========================================================================================================
-->
<UserDefaultOrderSetting>

  <!-- デフォルト注文方法取得 -->
  <Get>
    <Statement>
      <![CDATA[
        SELECT  *
          FROM  w2_UserDefaultOrderSetting
         WHERE  user_id = @user_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="user_id" Type="nvarchar" Size="30" />
    </Parameter>
  </Get>

  <!-- デフォルト注文方法登録 -->
  <Insert>
    <Statement>
      <![CDATA[
        INSERT w2_UserDefaultOrderSetting
               (
                 w2_UserDefaultOrderSetting.user_id,
                 w2_UserDefaultOrderSetting.payment_id,
                 w2_UserDefaultOrderSetting.credit_branch_no,
                 w2_UserDefaultOrderSetting.user_shipping_no,
                 w2_UserDefaultOrderSetting.user_invoice_no,
                 w2_UserDefaultOrderSetting.date_created,
                 w2_UserDefaultOrderSetting.date_changed,
                 w2_UserDefaultOrderSetting.last_changed,
                 w2_UserDefaultOrderSetting.rakuten_cvs_type,
                 w2_UserDefaultOrderSetting.zeus_cvs_type,
                 w2_UserDefaultOrderSetting.paygent_cvs_type
               )
        VALUES
               (
                 @user_id,
                 @payment_id,
                 @credit_branch_no,
                 @user_shipping_no,
                 @user_invoice_no,
                 GETDATE(),
                 GETDATE(),
                 @last_changed,
                 @rakuten_cvs_type,
                 @zeus_cvs_type,
                 @paygent_cvs_type
               )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="user_id" Type="nvarchar" Size="30" />
      <Input Name="payment_id" Type="nvarchar" Size="10" />
      <Input Name="credit_branch_no" Type="int" />
      <Input Name="user_shipping_no" Type="int" />
      <Input Name="user_invoice_no" Type="int" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
      <Input Name="rakuten_cvs_type" Type="nvarchar" Size="20" />
      <Input Name="zeus_cvs_type" Type="nvarchar" Size="20" />
      <Input Name="paygent_cvs_type" Type="nvarchar" Size="20" />
    </Parameter>
  </Insert>

  <!-- デフォルト注文方法更新 -->
  <Update>
    <Statement>
      <![CDATA[
        UPDATE w2_UserDefaultOrderSetting
           SET w2_UserDefaultOrderSetting.payment_id = @payment_id,
               w2_UserDefaultOrderSetting.credit_branch_no = @credit_branch_no,
               w2_UserDefaultOrderSetting.user_shipping_no = @user_shipping_no,
               w2_UserDefaultOrderSetting.date_changed = GETDATE(),
               w2_UserDefaultOrderSetting.last_changed = @last_changed,
               w2_UserDefaultOrderSetting.user_invoice_no = @user_invoice_no,
               w2_UserDefaultOrderSetting.rakuten_cvs_type = @rakuten_cvs_type,
               w2_UserDefaultOrderSetting.zeus_cvs_type = @zeus_cvs_type,
               w2_UserDefaultOrderSetting.paygent_cvs_type = @paygent_cvs_type
         WHERE w2_UserDefaultOrderSetting.user_id = @user_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="user_id" Type="nvarchar" Size="30" />
      <Input Name="payment_id" Type="nvarchar" Size="10" />
      <Input Name="credit_branch_no" Type="int" />
      <Input Name="user_shipping_no" Type="int" />
      <Input Name="user_invoice_no" Type="int" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
      <Input Name="rakuten_cvs_type" Type="nvarchar" Size="20" />
      <Input Name="zeus_cvs_type" Type="nvarchar" Size="20" />
      <Input Name="paygent_cvs_type" Type="nvarchar" Size="20" />
    </Parameter>
  </Update>

</UserDefaultOrderSetting>