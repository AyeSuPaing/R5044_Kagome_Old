<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : 会員ランク変動ルールSQLステートメントXML(MemberRankRule.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2020 All Rights Reserved.
=========================================================================================================
-->
<MemberRankRule>

  <!-- 会員ランク変動ルールリスト取得 -->
  <GetMemberRankRuleList>
    <Statement>
      <![CDATA[
        SELECT  w2_MemberRankRule.*
          FROM  w2_MemberRankRule
         WHERE  valid_flg = 'ON'
      ]]>
    </Statement>
    <Parameter>
    </Parameter>
  </GetMemberRankRuleList>

  <!-- ターゲットリストから会員ランク変動ルール設定取得 -->
  <GetMemberRankRuleFromTargetList>
    <Statement>
      <![CDATA[
        SELECT  *
          FROM  w2_MemberRankRule
         WHERE  target_id = @target_id
            OR  target_id2 = @target_id
            OR  target_id3 = @target_id
            OR  target_id4 = @target_id
            OR  target_id5 = @target_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="target_id" Type="nvarchar" Size="10" />
    </Parameter>
  </GetMemberRankRuleFromTargetList>

  <!-- Delete all -->
  <DeleteAll>
    <Statement>
      <![CDATA[
        DELETE  w2_MemberRankRule
      ]]>
    </Statement>
  </DeleteAll>

</MemberRankRule>