<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : 項目メモ設定マスタ系SQLステートメントXML (FieldMemoSetting.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright w2solution Co.,Ltd. 2020 All Rights Reserved.
=========================================================================================================
-->
<FieldMemoSetting>

  <!-- 項目メモ設定一覧取得 -->
  <GetList>
    <Statement>
      <![CDATA[
       SELECT  *
         FROM  w2_FieldMemoSetting
        WHERE  w2_FieldMemoSetting.table_name = @table_name
      ]]>
    </Statement>
    <Parameter>
      <Input Name="table_name" Type="nvarchar" Size="100" />
    </Parameter>
  </GetList>

  <!-- 取得 -->
  <Get>
    <Statement>
      <![CDATA[
        SELECT  *
          FROM  w2_FieldMemoSetting
         WHERE  table_name = @table_name
           AND  field_name = @field_name
      ]]>
    </Statement>
    <Parameter>
      <Input Name="table_name" Type="nvarchar" Size="100" />
      <Input Name="field_name" Type="nvarchar" Size="100" />
    </Parameter>
  </Get>
  
  <!-- 登録 -->
  <Insert>
    <Statement>
      <![CDATA[
        INSERT  w2_FieldMemoSetting
                (
                  table_name
                  ,field_name
                  ,memo
                  ,date_created
                  ,date_changed
                  ,last_changed
                )
        VALUES  (
                  @table_name
                  ,@field_name
                  ,@memo
                  ,GETDATE()
                  ,GETDATE()
                  ,@last_changed
                )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="table_name" Type="nvarchar" Size="100" />
      <Input Name="field_name" Type="nvarchar" Size="100" />
      <Input Name="memo" Type="ntext" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
    </Parameter>
  </Insert>
  
  <!-- 更新 -->
  <Update>
    <Statement>
      <![CDATA[
        UPDATE  w2_FieldMemoSetting
           SET  memo = @memo
                ,date_changed = GETDATE()
                ,last_changed = @last_changed
         WHERE  table_name = @table_name
           AND  field_name = @field_name
      ]]>
    </Statement>
    <Parameter>
      <Input Name="table_name" Type="nvarchar" Size="100" />
      <Input Name="field_name" Type="nvarchar" Size="100" />
      <Input Name="memo" Type="ntext" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
    </Parameter>
  </Update>
  
  <!-- 削除 -->
  <Delete>
    <Statement>
      <![CDATA[
        DELETE  w2_FieldMemoSetting
         WHERE  table_name = @table_name
           AND  field_name = @field_name
      ]]>
    </Statement>
    <Parameter>
      <Input Name="table_name" Type="nvarchar" Size="100" />
      <Input Name="field_name" Type="nvarchar" Size="100" />
    </Parameter>
  </Delete>

</FieldMemoSetting>
