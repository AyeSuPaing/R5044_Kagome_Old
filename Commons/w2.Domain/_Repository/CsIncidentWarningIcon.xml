<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : CSインシデント警告アイコン系SQLステートメントXML (CsIncidentWarningIcon.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2020 All Rights Reserved.
=========================================================================================================
-->
<CsIncidentWarningIcon>

  <!-- オペレータIDから取得 -->
  <GetByOperatorId>
    <Statement>
      <![CDATA[
        SELECT  *
          FROM  w2_CsIncidentWarningIcon
         WHERE  dept_id = @dept_id
           AND  operator_id = @operator_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
      <Input Name="operator_id" Type="nvarchar" Size="20" />
    </Parameter>
  </GetByOperatorId>
  
  <!-- 登録 -->
  <Insert>
    <Statement>
      <![CDATA[
        INSERT  w2_CsIncidentWarningIcon
                (
                  dept_id
                  ,operator_id
                  ,incident_status
                  ,warning_level
                  ,term
                  ,date_created
                  ,last_changed
                )
        VALUES  (
                  @dept_id
                  ,@operator_id
                  ,@incident_status
                  ,@warning_level
                  ,@term
                  ,GETDATE()
                  ,@last_changed
                )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
      <Input Name="operator_id" Type="nvarchar" Size="20" />
      <Input Name="incident_status" Type="nvarchar" Size="10" />
      <Input Name="warning_level" Type="nvarchar" Size="1" />
      <Input Name="term" Type="int" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
    </Parameter>
  </Insert>

  <!-- オペレータIDによる一括削除 -->
  <DeleteByOperatorId>
    <Statement>
      <![CDATA[
        DELETE  w2_CsIncidentWarningIcon
         WHERE  dept_id = @dept_id
           AND  operator_id = @operator_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="dept_id" Type="nvarchar" Size="30" />
      <Input Name="operator_id" Type="nvarchar" Size="20" />
    </Parameter>
  </DeleteByOperatorId>

</CsIncidentWarningIcon>
