<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : Atodene後払い請求書系SQLステートメントXML (AtodeneInvoice.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2019 All Rights Reserved.
=========================================================================================================
-->
<AtodeneInvoice>

  <!-- 請求書取得 -->
  <Get>
    <Statement>
      <![CDATA[
        SELECT  *
          FROM  w2_InvoiceAtodene WITH(NOLOCK)
                INNER JOIN w2_InvoiceAtodeneDetail WITH(NOLOCK) ON
                (
                  w2_InvoiceAtodene.order_id = w2_InvoiceAtodeneDetail.order_id
                )
         WHERE  w2_InvoiceAtodene.order_id = @order_id
         ORDER  BY w2_InvoiceAtodeneDetail.detail_no
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </Get>

  <!-- 請求書登録 -->
  <Insert>
    <Statement>
      <![CDATA[
        INSERT  w2_InvoiceAtodene
                (
                  order_id
                  ,zip
                  ,address1
                  ,address2
                  ,companyName
                  ,sectionName
                  ,name
                  ,siteNameTitle
                  ,siteName
                  ,shopOrderIdTitle
                  ,shopOrderId
                  ,descriptionText1
                  ,descriptionText2
                  ,descriptionText3
                  ,descriptionText4
                  ,descriptionText5
                  ,billServiceName
                  ,billServiceInfo1
                  ,billServiceInfo2
                  ,billServiceInfo3
                  ,billServiceInfo4
                  ,billState1
                  ,billFirstGreet1
                  ,billFirstGreet2
                  ,billFirstGreet3
                  ,billFirstGreet4
                  ,expand1
                  ,expand2
                  ,expand3
                  ,expand4
                  ,expand5
                  ,expand6
                  ,expand7
                  ,expand8
                  ,expand9
                  ,expand10
                  ,billedAmountTitle
                  ,billedAmount
                  ,billedFeeTax
                  ,billOrderdayTitle
                  ,shopOrderDate
                  ,billSendDateTitle
                  ,billSendDate
                  ,billDeadlineDateTitle
                  ,billDeadlineDate
                  ,transactionIdTitle
                  ,transactionId
                  ,billBankInfomation
                  ,bankNameTitle
                  ,bankName
                  ,bankCode
                  ,branchNameTitle
                  ,branchName
                  ,branchCode
                  ,bankAccountNumberTitle
                  ,bankAccountKind
                  ,bankAccountNumber
                  ,bankAccountNameTitle
                  ,bankAccountName
                  ,receiptBillDeadlineDate
                  ,receiptName
                  ,invoiceBarcode
                  ,receiptCompanyTitle
                  ,receiptCompany
                  ,docketbilledAmount
                  ,docketCompanyName
                  ,docketSectionName
                  ,docketName
                  ,docketTransactionIdTitle
                  ,docketTransactionId
                  ,voucherCompanyName
                  ,voucherSectionName
                  ,voucherCustomerFullName
                  ,voucherTransactionIdTitle
                  ,voucherTransactionId
                  ,voucherBilledAmount
                  ,voucherBilledFeeTax
                  ,revenueStampRequired
                  ,goodsTitle
                  ,goodsAmountTitle
                  ,goodsPriceTitle
                  ,goodsSubtotalTitle
                  ,detailInfomation
                  ,expand11
                  ,expand12
                  ,expand13
                  ,expand14
                  ,expand15
                  ,expand16
                  ,expand17
                  ,expand18
                  ,expand19
                  ,expand20
                  ,date_created
                )
        VALUES  (
                  @order_id
                  ,@zip
                  ,@address1
                  ,@address2
                  ,@companyName
                  ,@sectionName
                  ,@name
                  ,@siteNameTitle
                  ,@siteName
                  ,@shopOrderIdTitle
                  ,@shopOrderId
                  ,@descriptionText1
                  ,@descriptionText2
                  ,@descriptionText3
                  ,@descriptionText4
                  ,@descriptionText5
                  ,@billServiceName
                  ,@billServiceInfo1
                  ,@billServiceInfo2
                  ,@billServiceInfo3
                  ,@billServiceInfo4
                  ,@billState1
                  ,@billFirstGreet1
                  ,@billFirstGreet2
                  ,@billFirstGreet3
                  ,@billFirstGreet4
                  ,@expand1
                  ,@expand2
                  ,@expand3
                  ,@expand4
                  ,@expand5
                  ,@expand6
                  ,@expand7
                  ,@expand8
                  ,@expand9
                  ,@expand10
                  ,@billedAmountTitle
                  ,@billedAmount
                  ,@billedFeeTax
                  ,@billOrderdayTitle
                  ,@shopOrderDate
                  ,@billSendDateTitle
                  ,@billSendDate
                  ,@billDeadlineDateTitle
                  ,@billDeadlineDate
                  ,@transactionIdTitle
                  ,@transactionId
                  ,@billBankInfomation
                  ,@bankNameTitle
                  ,@bankName
                  ,@bankCode
                  ,@branchNameTitle
                  ,@branchName
                  ,@branchCode
                  ,@bankAccountNumberTitle
                  ,@bankAccountKind
                  ,@bankAccountNumber
                  ,@bankAccountNameTitle
                  ,@bankAccountName
                  ,@receiptBillDeadlineDate
                  ,@receiptName
                  ,@invoiceBarcode
                  ,@receiptCompanyTitle
                  ,@receiptCompany
                  ,@docketbilledAmount
                  ,@docketCompanyName
                  ,@docketSectionName
                  ,@docketName
                  ,@docketTransactionIdTitle
                  ,@docketTransactionId
                  ,@voucherCompanyName
                  ,@voucherSectionName
                  ,@voucherCustomerFullName
                  ,@voucherTransactionIdTitle
                  ,@voucherTransactionId
                  ,@voucherBilledAmount
                  ,@voucherBilledFeeTax
                  ,@revenueStampRequired
                  ,@goodsTitle
                  ,@goodsAmountTitle
                  ,@goodsPriceTitle
                  ,@goodsSubtotalTitle
                  ,@detailInfomation
                  ,@expand11
                  ,@expand12
                  ,@expand13
                  ,@expand14
                  ,@expand15
                  ,@expand16
                  ,@expand17
                  ,@expand18
                  ,@expand19
                  ,@expand20
                  ,GETDATE()
                )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
      <Input Name="zip" Type="nvarchar" Size="8" />
      <Input Name="address1" Type="nvarchar" Size="30" />
      <Input Name="address2" Type="nvarchar" Size="25" />
      <Input Name="companyName" Type="nvarchar" Size="30" />
      <Input Name="sectionName" Type="nvarchar" Size="30" />
      <Input Name="name" Type="nvarchar" Size="21" />
      <Input Name="siteNameTitle" Type="nvarchar" Size="5" />
      <Input Name="siteName" Type="nvarchar" Size="30" />
      <Input Name="shopOrderIdTitle" Type="nvarchar" Size="9" />
      <Input Name="shopOrderId" Type="nvarchar" Size="50" />
      <Input Name="descriptionText1" Type="nvarchar" Size="30" />
      <Input Name="descriptionText2" Type="nvarchar" Size="30" />
      <Input Name="descriptionText3" Type="nvarchar" Size="30" />
      <Input Name="descriptionText4" Type="nvarchar" Size="30" />
      <Input Name="descriptionText5" Type="nvarchar" Size="30" />
      <Input Name="billServiceName" Type="nvarchar" Size="30" />
      <Input Name="billServiceInfo1" Type="nvarchar" Size="30" />
      <Input Name="billServiceInfo2" Type="nvarchar" Size="30" />
      <Input Name="billServiceInfo3" Type="nvarchar" Size="30" />
      <Input Name="billServiceInfo4" Type="nvarchar" Size="30" />
      <Input Name="billState1" Type="nvarchar" Size="16" />
      <Input Name="billFirstGreet1" Type="nvarchar" Size="30" />
      <Input Name="billFirstGreet2" Type="nvarchar" Size="30" />
      <Input Name="billFirstGreet3" Type="nvarchar" Size="30" />
      <Input Name="billFirstGreet4" Type="nvarchar" Size="30" />
      <Input Name="expand1" Type="nvarchar" Size="50" />
      <Input Name="expand2" Type="nvarchar" Size="50" />
      <Input Name="expand3" Type="nvarchar" Size="50" />
      <Input Name="expand4" Type="nvarchar" Size="50" />
      <Input Name="expand5" Type="nvarchar" Size="50" />
      <Input Name="expand6" Type="nvarchar" Size="50" />
      <Input Name="expand7" Type="nvarchar" Size="50" />
      <Input Name="expand8" Type="nvarchar" Size="50" />
      <Input Name="expand9" Type="nvarchar" Size="50" />
      <Input Name="expand10" Type="nvarchar" Size="50" />
      <Input Name="billedAmountTitle" Type="nvarchar" Size="5" />
      <Input Name="billedAmount" Type="nvarchar" Size="8" />
      <Input Name="billedFeeTax" Type="nvarchar" Size="14" />
      <Input Name="billOrderdayTitle" Type="nvarchar" Size="5" />
      <Input Name="shopOrderDate" Type="nvarchar" Size="11" />
      <Input Name="billSendDateTitle" Type="nvarchar" Size="7" />
      <Input Name="billSendDate" Type="nvarchar" Size="11" />
      <Input Name="billDeadlineDateTitle" Type="nvarchar" Size="8" />
      <Input Name="billDeadlineDate" Type="nvarchar" Size="11" />
      <Input Name="transactionIdTitle" Type="nvarchar" Size="7" />
      <Input Name="transactionId" Type="nvarchar" Size="11" />
      <Input Name="billBankInfomation" Type="nvarchar" Size="90" />
      <Input Name="bankNameTitle" Type="nvarchar" Size="8" />
      <Input Name="bankName" Type="nvarchar" Size="10" />
      <Input Name="bankCode" Type="nvarchar" Size="6" />
      <Input Name="branchNameTitle" Type="nvarchar" Size="8" />
      <Input Name="branchName" Type="nvarchar" Size="8" />
      <Input Name="branchCode" Type="nvarchar" Size="5" />
      <Input Name="bankAccountNumberTitle" Type="nvarchar" Size="10" />
      <Input Name="bankAccountKind" Type="nvarchar" Size="4" />
      <Input Name="bankAccountNumber" Type="nvarchar" Size="7" />
      <Input Name="bankAccountNameTitle" Type="nvarchar" Size="5" />
      <Input Name="bankAccountName" Type="nvarchar" Size="30" />
      <Input Name="receiptBillDeadlineDate" Type="nvarchar" Size="11" />
      <Input Name="receiptName" Type="nvarchar" Size="21" />
      <Input Name="invoiceBarcode" Type="nvarchar" Size="44" />
      <Input Name="receiptCompanyTitle" Type="nvarchar" Size="14" />
      <Input Name="receiptCompany" Type="nvarchar" Size="22" />
      <Input Name="docketbilledAmount" Type="nvarchar" Size="8" />
      <Input Name="docketCompanyName" Type="nvarchar" Size="30" />
      <Input Name="docketSectionName" Type="nvarchar" Size="30" />
      <Input Name="docketName" Type="nvarchar" Size="21" />
      <Input Name="docketTransactionIdTitle" Type="nvarchar" Size="7" />
      <Input Name="docketTransactionId" Type="nvarchar" Size="11" />
      <Input Name="voucherCompanyName" Type="nvarchar" Size="30" />
      <Input Name="voucherSectionName" Type="nvarchar" Size="30" />
      <Input Name="voucherCustomerFullName" Type="nvarchar" Size="21" />
      <Input Name="voucherTransactionIdTitle" Type="nvarchar" Size="7" />
      <Input Name="voucherTransactionId" Type="nvarchar" Size="11" />
      <Input Name="voucherBilledAmount" Type="nvarchar" Size="8" />
      <Input Name="voucherBilledFeeTax" Type="nvarchar" Size="14" />
      <Input Name="revenueStampRequired" Type="nvarchar" Size="6" />
      <Input Name="goodsTitle" Type="nvarchar" Size="5" />
      <Input Name="goodsAmountTitle" Type="nvarchar" Size="3" />
      <Input Name="goodsPriceTitle" Type="nvarchar" Size="5" />
      <Input Name="goodsSubtotalTitle" Type="nvarchar" Size="5" />
      <Input Name="detailInfomation" Type="nvarchar" Size="60" />
      <Input Name="expand11" Type="nvarchar" Size="14" />
      <Input Name="expand12" Type="nvarchar" Size="20" />
      <Input Name="expand13" Type="nvarchar" Size="39" />
      <Input Name="expand14" Type="nvarchar" Size="44" />
      <Input Name="expand15" Type="nvarchar" Size="30" />
      <Input Name="expand16" Type="nvarchar" Size="1" />
      <Input Name="expand17" Type="nvarchar" Size="50" />
      <Input Name="expand18" Type="nvarchar" Size="50" />
      <Input Name="expand19" Type="nvarchar" Size="50" />
      <Input Name="expand20" Type="nvarchar" Size="50" />
    </Parameter>
  </Insert>

  <!-- 請求書明細登録 -->
  <InsertDetail>
    <Statement>
      <![CDATA[
        INSERT  w2_InvoiceAtodeneDetail
                (
                  order_id
                  ,detail_no
                  ,goods
                  ,goodsAmount
                  ,goodsPrice
                  ,goodsSubtotal
                  ,goodsExpand
                )
        VALUES  (
                  @order_id
                  ,@detail_no
                  ,@goods
                  ,@goodsAmount
                  ,@goodsPrice
                  ,@goodsSubtotal
                  ,@goodsExpand
                )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
      <Input Name="detail_no" Type="int" />
      <Input Name="goods" Type="nvarchar" Size="150" />
      <Input Name="goodsAmount" Type="nvarchar" Size="6" />
      <Input Name="goodsPrice" Type="nvarchar" Size="7" />
      <Input Name="goodsSubtotal" Type="nvarchar" Size="7" />
      <Input Name="goodsExpand" Type="nvarchar" Size="6" />
    </Parameter>
  </InsertDetail>

  <!-- 請求書削除 -->
  <Delete>
    <Statement>
      <![CDATA[
        DELETE  w2_InvoiceAtodene
         WHERE  order_id = @order_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </Delete>

  <!-- 請求書明細削除 -->
  <DeleteDetails>
    <Statement>
      <![CDATA[
        DELETE  w2_InvoiceAtodeneDetail
         WHERE  order_id = @order_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="order_id" Type="nvarchar" Size="30" />
    </Parameter>
  </DeleteDetails>

</AtodeneInvoice>
