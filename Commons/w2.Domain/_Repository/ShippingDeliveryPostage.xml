<?xml version="1.0" encoding="utf-8" ?>
<!--
=========================================================================================================
  Module      : 配送料マスタ系SQLステートメントXML (ShippingDeliveryPostage.xml)
 ･･･････････････････････････････････････････････････････････････････････････････････････････････････････
  Copyright   : Copyright W2 Co.,Ltd. 2019 All Rights Reserved.
=========================================================================================================
-->
<ShippingDeliveryPostage>

  <!-- 取得 -->
  <Get>
    <Statement>
      <![CDATA[
        SELECT  w2_ShippingDeliveryPostage.*
          FROM  w2_ShippingDeliveryPostage
         WHERE  shop_id = @shop_id
           AND  shipping_id = @shipping_id
           AND  delivery_company_id = @delivery_company_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="shipping_id" Type="nvarchar" Size="10" />
      <Input Name="delivery_company_id" Type="nvarchar" Size="10" />
    </Parameter>
  </Get>

  <!-- 配送種別IDに紐づく全ての情報取得 -->
  <GetByShippingId>
    <Statement>
      <![CDATA[
        SELECT  w2_ShippingDeliveryPostage.*
          FROM  w2_ShippingDeliveryPostage
         WHERE  shop_id = @shop_id
           AND  shipping_id = @shipping_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="shipping_id" Type="nvarchar" Size="10" />
    </Parameter>
  </GetByShippingId>

  <!-- 登録 -->
  <Insert>
    <Statement>
      <![CDATA[
        INSERT  w2_ShippingDeliveryPostage
                (
                  shop_id
                  ,shipping_id
                  ,delivery_company_id
                  ,shipping_price_kbn
                  ,shipping_free_price_flg
                  ,shipping_free_price
                  ,announce_free_shipping_flg
                  ,calculation_plural_kbn
                  ,plural_shipping_price
                  ,date_created
                  ,date_changed
                  ,last_changed
                  ,storepickup_free_price_flg
                  ,free_shipping_fee
                )
        VALUES  (
                  @shop_id
                  ,@shipping_id
                  ,@delivery_company_id
                  ,@shipping_price_kbn
                  ,@shipping_free_price_flg
                  ,@shipping_free_price
                  ,@announce_free_shipping_flg
                  ,@calculation_plural_kbn
                  ,@plural_shipping_price
                  ,GETDATE()
                  ,GETDATE()
                  ,@last_changed
                  ,@storepickup_free_price_flg
                  ,@free_shipping_fee
                )
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="shipping_id" Type="nvarchar" Size="10" />
      <Input Name="delivery_company_id" Type="nvarchar" Size="10" />
      <Input Name="shipping_price_kbn" Type="nvarchar" Size="2" />
      <Input Name="shipping_free_price_flg" Type="nvarchar" Size="1" />
      <Input Name="shipping_free_price" Type="decimal" Size="18,3" />
      <Input Name="announce_free_shipping_flg" Type="nvarchar" Size="1" />
      <Input Name="calculation_plural_kbn" Type="nvarchar" Size="1" />
      <Input Name="plural_shipping_price" Type="decimal" Size="18,3" />
      <Input Name="last_changed" Type="nvarchar" Size="20" />
      <Input Name="storepickup_free_price_flg" Type="nvarchar" Size="1" />
      <Input Name="free_shipping_fee" Type="decimal" Size="18,3" />
    </Parameter>
  </Insert>

  <!-- 削除 -->
  <Delete>
    <Statement>
      <![CDATA[
        DELETE  w2_ShippingDeliveryPostage
         WHERE  shop_id = @shop_id
           AND  shipping_id = @shipping_id
           AND  delivery_company_id = @delivery_company_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="shipping_id" Type="nvarchar" Size="10" />
      <Input Name="delivery_company_id" Type="nvarchar" Size="10" />
    </Parameter>
  </Delete>

  <!-- 配送種別IDに紐づく全ての情報削除 -->
  <DeleteByShippingId>
    <Statement>
      <![CDATA[
        DELETE  w2_ShippingDeliveryPostage
         WHERE  shop_id = @shop_id
           AND  shipping_id = @shipping_id
      ]]>
    </Statement>
    <Parameter>
      <Input Name="shop_id" Type="nvarchar" Size="10" />
      <Input Name="shipping_id" Type="nvarchar" Size="10" />
    </Parameter>
  </DeleteByShippingId>

</ShippingDeliveryPostage>
